import matplotlib.pyplot as plt
import numpy as np
import createdataset as cd
import pickle

featimpo_rand_fach1 = [ 14,  2, 11, 28, 27, 21, 8 , 3,  7, 34, 15, 22, 40, 58, 41, 23, 10, 25
, 37, 30, 31, 44, 39, 43, 32, 5 ,20, 38, 26, 19, 42, 36, 29, 24, 17, 13
, 18,  9, 4, 33 ,12,  16, 35,  1,  6,305,319,297,526,532,169,102,225,272
,423,501,449,418,143,184,296,116,84,274,382,445,472,460,402,341,440,351
,453,478,412,259,476,154,393,428,387,343,468,459,347,403,415,536,378,398
,90,61,197,46 ,56, 53, 82,279,164, 47,79,95,45,52,75,51,72,96
,336,287,303,352,304,59,132,85,160,111,425,173,219,229,57,100,190,94
,137,194,77,318,163,138,337,220,97,127,495,66,166,80,68,324,396,515
,188,531,193,312,238,385,335,167,286,255,320,400,464,452,367,233,359,81
,469,308,142,482,243,417,521,342,73,421,104,201,535,254,539,353,86,120
,406,533,247,528,182,242,344,450,128,251,63,114,456,363,119,523,107,70
,500,207,54,257,48,76,144,55,50,250,129,211,83,49,98,380,139,155
,103,283,227,162,74,321,349,151,62,291,465,334,284,504,366,333,455,214
,350,345,474,275,325,145,524,270,404,376,176,133,519,99,261,230,503,285
,330,170,471,302,168,64,491,446,451,485,146,200,148,437,191,183,362,101
,108,235,490,314,141,122,322,293,124,152,212,159,391,174,256,253,379,199
,444,409,192,497,429,271,395,263,147,252,494,433,413,249,377,277,516,295
,234,355,150,426,481,448,486,505,422,87,375,67,506,496,473,420,78,105
,134,513,136,383,430,299,431,223,65,186,206,60,88,493,172,165,522,484
,196,171,411,397,443,112,357,106,390,91,525,346,368,372,371,208,317,306
,125,268,419,292,331,309,115,361,392,407,130,93,231,467,224,260,507,360
,461,203,241,209,510,266,427,479,276,239,518,245,508,131,89,269,442,117
,118,179,439,300,489,71,181,466,258,316,416,463,313,514,381,226,441,499
,511,222,458,512,399,436,492,470,278,289,534,189,488,354,210,236,178,298
,438,540,356,340,185,228,401,246,462,232,237,358,432,198,369,158,374,195
,126,477,480,262,394,248,294,405,454,435,424,323,408,509,175,187,434,217
,273,290,311,457,530,370,329,414,327,386,307,204,447,410,69,153,373,109
,267,157,483,216,205,520,110,202,113,365,121,135,384,161,265,502,215,244
,388,301,332,282,149,339,364,240,218,288,156,326,310,180,221,177,123, 92
,264,281,280,213,140,328,338,315,348,389,475,487,498,517,527,529,537,538]

f = open('augm_feature_ranking.pckl', 'rb')
obj = pickle.load(f)
f.close()

featimpo_aug= obj#[6,53,21, 3,17,34,13, 8, 4,61,66,42,64,75,69,55,84,26,2,59,82,14, 5,87,86,30, 1,10,39,93,80,95,11, 103, 121,76, 9, 7,45,15,33,35,12,28,120,105,128,119,145,144,127,38,129,150, 116,137,140,138,166,126,152,146,115,132,139,131,154,156,157,187,160,163, 169,164,175,168,172,176,177,180,194,183,181,198,190,215,204,205,224,195,186,37,197,201,207,203,212,216,196,229]

featimpo = featimpo_rand_fach1 #featimpo_aug


for i,feat in enumerate(featimpo):
    if feat < 6:

        featimpo[i] = 1
    else:
        featimpo[i] = 0

featlist = []
for i,element in enumerate(featimpo):
    if element == 1:
        featlist.append(i)

print(featlist)

ds = cd.Dataset()
ds.addTileFromRow(featimpo,False)
ds.plotRahmen(ds.getTile(-1))


#tile = np.zeros([12*45,1])
n = np.array(featimpo).reshape((1,540))

#plt.figure(figsize=(30, 30))
imgplot = plt.imshow(n, aspect="auto")
plt.tight_layout()

plt.show()